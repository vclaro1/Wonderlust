<script src="//maps.google.com/maps/api/js?v=3.23&key=AIzaSyB-4NgYJT_dFZaFoO05Ft9Sf79cMvqt2Ng"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script>
<%= javascript_include_tag('functions.js') %>
<script type="text/javascript">
  var locs = [];
</script>
<script type="text/javascript">
  
</script>
<h1><%= @trip.name%></h1>
<p>Let's start adding some <%= link_to "Locations", new_location_path%> to it!</p>
<p>Show here all the locations, a map and an add location button</p>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Days to stay</th>
      <th>Interests</th>
    </tr>
  </thead>
  <tbody>
  <% @locations.each do |loc| %>
    <tr>
      <td><%= loc.name %></td>
      <td><%= loc.days %></td>
      <td>aqui iran los intereses del lugar</td>
      <td><%= link_to 'Show Location', locations_show_path(id: loc.id)%></td>
      <td><%= link_to 'Destroy Location', trip, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
    <script type="text/javascript">
      locs.push([<%=loc.lat%>, <%=loc.long%>, <%=loc.travel_mode%>]) 
    </script>
    <% end %>
  </tbody>
</table>
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div> <!-- only if you need custom infoboxes -->
<script type="text/javascript">
  initialize(locs);
</script>